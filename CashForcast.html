<!DOCTYPE html>
<html lang="en" dir="ltr" data-scompiler-id="0">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="format-detection" content="telephone=no" />
    <title>Stroyka Admin - eCommerce Dashboard Template</title>
    <!-- icon -->
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <!-- fonts -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i,900,900i" />
    <!-- css -->
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.ltr.css" />
    <link rel="stylesheet" href="vendor/highlight.js/styles/github.css" />
    <link rel="stylesheet" href="vendor/simplebar/simplebar.min.css" />
    <link rel="stylesheet" href="vendor/quill/quill.snow.css" />
    <link rel="stylesheet" href="vendor/air-datepicker/css/datepicker.min.css" />
    <link rel="stylesheet" href="vendor/select2/css/select2.min.css" />
    <link rel="stylesheet" href="vendor/datatables/css/dataTables.bootstrap5.min.css" />
    <link rel="stylesheet" href="vendor/nouislider/nouislider.min.css" />
    <link rel="stylesheet" href="vendor/fullcalendar/main.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/custom.css" />
</head>

<body>
    <!-- sa-app -->
    <div class="sa-app sa-app--desktop-sidebar-shown sa-app--mobile-sidebar-hidden sa-app--toolbar-fixed">
        <!-- sa-app__sidebar -->
        <div class="sa-app__sidebar">
            <div class="sa-sidebar">
                <div class="sa-sidebar__header">
                    <a class="sa-sidebar__logo" href="index.html">
                        <!-- logo -->
                        <div class="sa-sidebar-logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="120px" height="20px">
                                <path
                                    d="M118.5,20h-1.1c-0.6,0-1.2-0.4-1.4-1l-1.5-4h-6.1l-1.5,4c-0.2,0.6-0.8,1-1.4,1h-1.1c-1,0-1.8-1-1.4-2l1.1-3l1.5-4l3.6-10c0.2-0.6,0.8-1,1.4-1h1.6c0.6,0,1.2,0.4,1.4,1l3.6,10l1.5,4l1.1,3C120.3,19,119.5,20,118.5,20z M111.5,6.6l-1.6,4.4h3.2L111.5,6.6z M99.5,20h-1.4c-0.4,0-0.7-0.2-0.9-0.5L94,14l-2,3.5v1c0,0.8-0.7,1.5-1.5,1.5h-1c-0.8,0-1.5-0.7-1.5-1.5v-17C88,0.7,88.7,0,89.5,0h1C91.3,0,92,0.7,92,1.5v8L94,6l3.2-5.5C97.4,0.2,97.7,0,98.1,0h1.4c1.2,0,1.9,1.3,1.3,2.3L96.3,10l4.5,7.8C101.4,18.8,100.7,20,99.5,20z M80.3,11.8L80,12.3v6.2c0,0.8-0.7,1.5-1.5,1.5h-1c-0.8,0-1.5-0.7-1.5-1.5v-6.2l-0.3-0.5l-5.5-9.5c-0.6-1,0.2-2.3,1.3-2.3h1.4c0.4,0,0.7,0.2,0.9,0.5L76,4.3l2,3.5l2-3.5l2.2-3.8C82.4,0.2,82.7,0,83.1,0h1.4c1.2,0,1.9,1.3,1.3,2.3L80.3,11.8z M60,20c-5.5,0-10-4.5-10-10S54.5,0,60,0s10,4.5,10,10S65.5,20,60,20z M60,4c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6S63.3,4,60,4z M47.8,17.8c0.6,1-0.2,2.3-1.3,2.3h-2L41,14h-4v4.5c0,0.8-0.7,1.5-1.5,1.5h-1c-0.8,0-1.5-0.7-1.5-1.5v-17C33,0.7,33.7,0,34.5,0H41c0.3,0,0.7,0,1,0.1c3.4,0.5,6,3.4,6,6.9c0,2.4-1.2,4.5-3.1,5.8L47.8,17.8z M42,4.2C41.7,4.1,41.3,4,41,4h-3c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h3c0.3,0,0.7-0.1,1-0.2c0.3-0.1,0.6-0.3,0.9-0.5C43.6,8.8,44,7.9,44,7C44,5.7,43.2,4.6,42,4.2z M29.5,4H25v14.5c0,0.8-0.7,1.5-1.5,1.5h-1c-0.8,0-1.5-0.7-1.5-1.5V4h-4.5C15.7,4,15,3.3,15,2.5v-1C15,0.7,15.7,0,16.5,0h13C30.3,0,31,0.7,31,1.5v1C31,3.3,30.3,4,29.5,4z M6.5,20c-2.8,0-5.5-1.7-6.4-4c-0.4-1,0.3-2,1.3-2h1c0.5,0,0.9,0.3,1.2,0.7c0.2,0.3,0.4,0.6,0.8,0.8C4.9,15.8,5.8,16,6.5,16c1.5,0,2.8-0.9,2.8-2c0-0.7-0.5-1.3-1.2-1.6C7.4,12,7,11,7.4,10.3l0.4-0.9c0.4-0.7,1.2-1,1.8-0.6c0.6,0.3,1.2,0.7,1.6,1.2c1,1.1,1.7,2.5,1.7,4C13,17.3,10.1,20,6.5,20z M11.6,6h-1c-0.5,0-0.9-0.3-1.2-0.7C9.2,4.9,8.9,4.7,8.6,4.5C8.1,4.2,7.2,4,6.5,4C5,4,3.7,4.9,3.7,6c0,0.7,0.5,1.3,1.2,1.6C5.6,8,6,9,5.6,9.7l-0.4,0.9c-0.4,0.7-1.2,1-1.8,0.6c-0.6-0.3-1.2-0.7-1.6-1.2C0.6,8.9,0,7.5,0,6c0-3.3,2.9-6,6.5-6c2.8,0,5.5,1.7,6.4,4C13.3,4.9,12.6,6,11.6,6z">
                                </path>
                            </svg>
                            <div class="sa-sidebar-logo__caption">Admin</div>
                        </div>
                        <!-- logo / end -->
                    </a>
                </div>
                <div class="sa-sidebar__body" data-simplebar="">
                    <ul class="sa-nav sa-nav--sidebar" data-sa-collapse="">
                        <li class="sa-nav__section">
                            <div class="sa-nav__section-title"><span>Application</span></div>
                            <ul class="sa-nav__menu sa-nav__menu--root">
                                <li class="sa-nav__menu-item sa-nav__menu-item--has-icon">
                                    <a href="index.html" class="sa-nav__link">
                                        <span class="sa-nav__icon">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                                                viewBox="0 0 16 16" fill="currentColor">
                                                <path
                                                    d="M8,13.1c-4.4,0-8,3.4-8-3C0,5.6,3.6,2,8,2s8,3.6,8,8.1C16,16.5,12.4,13.1,8,13.1zM8,4c-3.3,0-6,2.7-6,6c0,4,2.4,0.9,5,0.2C7,9.9,7.1,9.5,7.4,9.2l3-2.3c0.4-0.3,1-0.2,1.3,0.3c0.3,0.5,0.2,1.1-0.2,1.4l-2.2,1.7c2.5,0.9,4.8,3.6,4.8-0.2C14,6.7,11.3,4,8,4z">
                                                </path>
                                            </svg>
                                        </span>
                                        <span class="sa-nav__title">Dashboard</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="sa-app__sidebar-shadow"></div>
            <div class="sa-app__sidebar-backdrop" data-sa-close-sidebar=""></div>
        </div>
        <!-- sa-app__sidebar / end -->
        <!-- sa-app__content -->
        <div class="sa-app__content">
            <!-- sa-app__toolbar -->
            <div class="sa-toolbar sa-toolbar--search-hidden sa-app__toolbar">
                <div class="sa-toolbar__body">
                    <div class="sa-toolbar__item">
                        <button class="sa-toolbar__button" type="button" aria-label="Menu" data-sa-toggle-sidebar="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path d="M1,11V9h18v2H1z M1,3h18v2H1V3z M15,17H1v-2h14V17z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="sa-toolbar__shadow"></div>
            </div>
            <!-- sa-app__toolbar / end -->
            <!-- sa-app__body -->
            <div id="top" class="sa-app__body">
                <div class="sa-article sa-article--has-toc" style="padding-right: 0px;">
                    <div class="sa-article__container container container--max--md"
                        style="margin: 0px;max-width:fit-content;">
                        <div class="sa-article__header">
                            <nav class="sa-article__breadcrumb" aria-label="breadcrumb">
                                <ol class="breadcrumb breadcrumb-sa-simple">
                                    <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">Forms</li>
                                    <li class="breadcrumb-item active" aria-current="page">Text Area</li>
                                </ol>
                            </nav>
                        </div>
                        <div class="sa-article__content">
                            <h2 id="article-basic-example" class="sa-anchor">
                                <span class="sa-anchor__body">
                                    Basic Example
                                    <a class="sa-anchor__link" href="#article-basic-example">#</a>
                                </span>
                            </h2>
                            <div class="row row-cols-lg-auto g-4 align-items-center form_generate">
                                <div class="col-12 p-0">
                                    <select id="quarter_id" name="quarter_id" class="sa-select2 form-select">
                                        <optgroup label="Select quarter">
                                            <option value="1">01/3/2023 to 01/3/2023</option>
                                            <option value="2">02/3/2023 to 01/3/2023</option>
                                            <option value="3">03/3/2022 to 01/3/2022</option>
                                            <option value="4">04/3/2022 to 01/3/2022</option>
                                            <option value="5">05/3/2022 to 01/3/2022</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="col-12 p-0 account_select">
                                    <select id="donor_account_id" name="donor_account_id[]" class="sa-select2 form-select" multiple="">
                                        <optgroup label="Pick some account">
                                            <option value="1">IFID Load 1</option>
                                            <option value="4">IFID Load 2</option>
                                            <option value="7">DANIDA GRANTS</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="col-12 p-0">
                                    <button id="generateForm" class="btn btn-primary">Generate Form</button>
                                </div>
                            </div>
                            <div class="row row-cols-lg-auto g-4 align-items-center">
                                <div class="col-12 p-0">
                                    <select id="category_id" class="sa-select2 form-select">
                                        <optgroup label="Select Category">
                                            <option value="1">Category1</option>
                                            <option value="2">Category2</option>
                                            <option value="3">Category3</option>
                                            <option value="4">Category4</option>
                                            <option value="5">Category5</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="col-12 p-0">
                                    <select id="component_id" class="sa-select2 form-select">
                                        <optgroup label="Select Component">
                                            <option value="1">Component1</option>
                                            <option value="2">Component2</option>
                                            <option value="3">Component3</option>
                                            <option value="4">Component4</option>
                                            <option value="5">Component5</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="col-12 p-0">
                                    <button id="addField" class="btn btn-primary">Add Field</button>
                                </div>
                            </div>
                            <br>

                            <div class="card">
                                <div class="card-body">
                                    <div class="row" id="formContainer">
                                    </div>
                                </div>
                                <div class="card-footer">
                                    <div class="d-flex flex-row-reverse">
                                        <button type="submit" class="btn btn-success p-2 m-3">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- sa-app__body / end -->
            <!-- sa-app__footer -->
            <div class="sa-app__footer d-block d-md-flex">
                <!-- copyright -->
                Stroyka Admin — eCommerce Dashboard Template © 2021
                <div class="m-auto"></div>
                <div>
                    Powered by HTML — Design by
                    <a href="https://themeforest.net/user/kos9/portfolio">Kos</a>
                </div>
                <!-- copyright / end -->
            </div>
            <!-- sa-app__footer / end -->
        </div>
        <!-- sa-app__content / end -->
        <!-- sa-app__toasts -->
        <div class="sa-app__toasts toast-container bottom-0 end-0"></div>
        <!-- sa-app__toasts / end -->
    </div>
    <!-- sa-app / end -->
    <!-- scripts -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/feather-icons/feather.min.js"></script>
    <script src="vendor/simplebar/simplebar.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/highlight.js/highlight.pack.js"></script>
    <script src="vendor/quill/quill.min.js"></script>
    <script src="vendor/air-datepicker/js/datepicker.min.js"></script>
    <script src="vendor/air-datepicker/js/i18n/datepicker.en.js"></script>
    <script src="vendor/select2/js/select2.min.js"></script>
    <script src="vendor/fontawesome/js/all.min.js" data-auto-replace-svg="" async=""></script>
    <script src="vendor/chart.js/chart.min.js"></script>
    <script src="vendor/datatables/js/jquery.dataTables.min.js"></script>
    <script src="vendor/datatables/js/dataTables.bootstrap5.min.js"></script>
    <script src="vendor/nouislider/nouislider.min.js"></script>
    <script src="vendor/fullcalendar/main.min.js"></script>
    <script src="js/stroyka.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/demo.js"></script>
    <script src="js/demo-chart-js.js"></script>



    <script>
        // create form
        $(document).ready(function () {
            $('#generateForm').on('click', function () {
                const quarter_id = $('#quarter_id').val();
                const quarter_name = $('#quarter_id option:selected').text();
                const donor_account_id = $('#donor_account_id').val();
                const donor_account_length = donor_account_id.length;
                let allFormsHTML = '';
                for (let i = 0; i < donor_account_length; i++) {
                    const donor_account_name = $('#donor_account_id option[value="' + donor_account_id[i] + '"]').text();
                    const formHTML = `
                    <div class="col-md-4">
                        <table class="table table-bordered mb-0">
                            <thead>
                                <tr>
                                    <th scope="col" class="text-center" colspan="4">
                                        <option value="${quarter_id}">${quarter_name}</option>
                                    </th>
                                </tr>
                                <tr>
                                    <th scope="col" class="text-center" colspan="4">
                                        <option value="${donor_account_id[i]}">${donor_account_name}</option>
                                    </th>
                                </tr>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Category</th>
                                    <th scope="col">Component</th>
                                    <th scope="col">Next Qtr</th>
                                </tr>
                            </thead>
                            <tbody class="rowContainer">
                                
                            </tbody>
                        </table>
                    </div>
                    `;
                    allFormsHTML += formHTML;
                }
                $('#formContainer').html(allFormsHTML);
                if (quarter_id!='' && donor_account_id!='') {
                    $('#generateForm').hide();
                }
            });
        });


        // create row
        $(document).ready(function () {
            $('#addField').on('click', function () {
                const category_id = $('#category_id').val();
                const category_name = $('#category_id option:selected').text();
                const component_id = $('#component_id').val();
                const component_name = $('#component_id option:selected').text();
                const newFields = `
                <tr>
                    <th scope="row">1</th>
                    <td>
                        <option value="${category_id}">${category_name}</option>
                    </td>
                    <td>
                        <option value="${component_id}">${component_name}</option>
                    </td>
                    <td><input class="next_qtr" type="next_qtr" value=""></td>
                </tr>
                `;

                $('.rowContainer').append(newFields);
            });
        });
    </script>
</body>

</html>